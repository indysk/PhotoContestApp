<%= render  "shared/error_messages", model: @vote %>
<h1>コンテスト名：<%= @contest.name %></h1>
<p>作成者：<%= print_contest_creator(@contest) %></p>
<%= link_to  "写真を投稿", new_contest_photo_path(@contest) %>
<%= link_to  "前のページに戻る", :back %>

<% if @photos %>

  <%= form_with model: @vote, url: contest_votes_path(contest_id: @contest), local: true do |f| %>

    <%= will_paginate @photos, :previous_label => ' &lt 前へ', :next_label => '次へ &gt' %>
    <div class="img_list">
      <%= render partial: 'photos/photo', collection: @photos, locals: { f: f } %>
    </div>
    <%= will_paginate @photos, :previous_label => ' &lt 前へ', :next_label => '次へ &gt' %>

    <h3>投票</h3>
    <%= f.submit %>
  <% end %>
  <%= link_to  "投票結果", contest_vote_path(@contest) %>

<% else %>

  <div>写真が投稿されていません</div>

<% end %>

<div>
  <%= link_to  "このコンテストを削除", contest_path(@contest), method: :delete, data: { confirm: '削除しますか？' } %>
</div>
